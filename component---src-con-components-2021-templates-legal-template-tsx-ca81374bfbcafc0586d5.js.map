{"version":3,"sources":["webpack:///./src/con/components/templates/LegalTemplate.tsx","webpack:///./src/con/components/common/SectionTitle.tsx","webpack:///./src/con/contexts/SectionsContext.tsx","webpack:///./src/con/components/2021/templates/LegalTemplate.tsx","webpack:///./src/con/data/2021/nav.ts","webpack:///./src/con/data/2021/footer.ts","webpack:///./src/con/data/2021/prices.ts","webpack:///./src/con/data/2021/meta.ts","webpack:///./src/con/components/2021/layout/index.tsx"],"names":["LegalTemplate","pageContext","html","title","edition","htmlWithLinks","replace","className","dark","lined","h1","dangerouslySetInnerHTML","__html","SectionTitle","children","small","classnames","SectionsContext","createContext","props","logoAlwaysVisible","nav","logoLink","backLink","to","text","links","mobileOnly","footer","link","prices","id","languages","offers","limitDate","price","meta","TITLE","DESCRIPTION","OG_IMAGE","process","URL","Layout","offersData","map","sortedOffers","sort","a","b","dayjs","isAfter","activeOffer","find","offer","length","availability","name","priceCurrency","url","validFrom","eventData","description","eventStatus","eventAttendanceMode","startDate","endDate","organizer","location","address","addressLocality","addressRegion","postalCode","streetAddress","image","pathname","useLocation","useState","sectionsVisibles","setSectionsVisibles","activeLink","useMemo","lastSectionVisible","useEffect","window","history","replaceState","Provider","value","type","JSON","stringify","defer","src","LayoutBase"],"mappings":"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","file":"component---src-con-components-2021-templates-legal-template-tsx-ca81374bfbcafc0586d5.js","sourcesContent":["import React from 'react';\nimport { PageProps } from 'gatsby';\nimport ContactCard from '@con/components/common/ContactCard';\nimport SectionTitle from '@con/components/common/SectionTitle';\nimport '@con/styles/index.scss';\n\ninterface LegalTemplateProps extends PageProps {\n  pageContext: {\n    html: string;\n    title: string;\n    edition: string;\n  };\n}\n\nconst LegalTemplate: React.ComponentType<LegalTemplateProps> = ({ pageContext }) => {\n  const { html, title, edition } = pageContext;\n  const htmlWithLinks = html.replace(/href=\"#/g, `href=\"/con/${edition}#`).replace(/href=\"\\/\\//g, 'href=\"/'); // fix home anchors links\n\n  return (\n    <div className=\"conf__legal\">\n      <div className=\"container\">\n        <div className=\"legal__header\">\n          <SectionTitle dark lined h1>\n            <strong>{title}</strong>\n          </SectionTitle>\n        </div>\n        <div className=\"legal__content dotted-corner\">\n          <div className=\"conference__abstract\" dangerouslySetInnerHTML={{ __html: htmlWithLinks }} />\n        </div>\n        <div className=\"conf__contact\">\n          <ContactCard />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LegalTemplate;\n","import React from 'react';\nimport classnames from 'classnames';\n\ninterface SectionTitleProps {\n  dark?: boolean;\n  lined?: boolean;\n  h1?: boolean;\n  small?: boolean;\n}\n\nconst SectionTitle: React.ComponentType<SectionTitleProps> = ({\n  children,\n  dark = false,\n  lined = false,\n  h1 = false,\n  small = false,\n}) => (\n  <div className={classnames('conf__section-title', { dark, small })}>\n    {h1 ? <h1 className=\"h2 title__layer\">{children}</h1> : <h2 className=\"title__layer\">{children}</h2>}\n    <div className={classnames('h2', { lined })}>{children}</div>\n  </div>\n);\n\nexport default SectionTitle;\n","import { createContext } from 'react';\n\ninterface SectionsContextInterface {\n  sectionsVisibles: string[];\n  setSectionsVisibles: (sections: string[]) => void;\n}\n\nconst SectionsContext = createContext<SectionsContextInterface>(null);\n\nexport default SectionsContext;\n","import React from 'react';\nimport { PageProps } from 'gatsby';\nimport Layout from '@con/components/2021/layout';\nimport LegalTemplateBase from '@con/components/templates/LegalTemplate';\n\ninterface LegalTemplateProps extends PageProps {\n  pageContext: {\n    html: string;\n    title: string;\n    edition: string;\n  };\n}\n\nconst LegalTemplate: React.ComponentType<LegalTemplateProps> = (props) => {\n  return (\n    <Layout logoAlwaysVisible>\n      <LegalTemplateBase {...props} />\n    </Layout>\n  );\n};\n\nexport default LegalTemplate;\n","const nav = {\n  logoLink: '/',\n  backLink: {\n    to: '/con/',\n    text: 'Back to current edition',\n  },\n  links: [\n    {\n      to: '/con/2021/',\n      text: 'Home',\n      mobileOnly: true,\n    },\n    {\n      to: '/con/2021/speakers',\n      text: 'Speakers',\n    },\n    {\n      to: '/con/2021/#schedule',\n      text: 'Schedule',\n    },\n    {\n      to: '/con/2021/#venue',\n      text: 'Venue',\n    },\n    {\n      to: '/con/2021/review',\n      text: 'Review',\n    },\n  ],\n};\n\nexport default nav;\n","const footer = [\n  {\n    title: 'The event',\n    links: [\n      {\n        title: 'Speakers',\n        link: '/con/2021/speakers',\n      },\n      {\n        title: 'Schedule',\n        link: '/con/2021/#schedule',\n      },\n      {\n        title: 'Venue',\n        link: '/con/2021/#venue',\n      },\n      {\n        title: 'Current edition',\n        link: '/con/2022/',\n      },\n    ],\n  },\n  {\n    title: 'Legal',\n    links: [\n      {\n        title: 'Code of conduct',\n        link: '/con/2021/code-of-conduct',\n      },\n      {\n        title: 'FAQ',\n        link: '/con/2021/faq',\n      },\n      {\n        title: 'Transparency',\n        link: '/con/2021/transparency',\n      },\n    ],\n  },\n];\n\nexport default footer;\n","import { Price } from '../types';\n\nconst prices: Price[] = [\n  {\n    id: 1,\n    title: 'On-site edition',\n    languages: 'French and english-speaking tracks',\n    offers: [\n      {\n        title: 'Early bird',\n        limitDate: '2021-04-30',\n        price: 69,\n      },\n      {\n        title: 'Regular ticket',\n        limitDate: '2021-08-20',\n        price: 89,\n      },\n      {\n        title: 'Late bird',\n        limitDate: '2021-09-09',\n        price: 109,\n      },\n    ],\n  },\n  {\n    id: 2,\n    title: 'Online edition',\n    languages: 'English-speaking track',\n    offers: [\n      {\n        title: 'Online ticket',\n        limitDate: '2021-09-08',\n        price: 39,\n      },\n    ],\n  },\n];\n\nexport default prices;\n","export const TITLE = 'API Platform Conference 2021';\nexport const DESCRIPTION = 'The first international conference dedicated to API Platform and its ecosystem';\nexport const OG_IMAGE = `${process.env.GATSBY_ROOT_URL}/conf-facebook.png`;\nexport const URL = 'https://api-platform.com/con/2021/';\n\nconst meta = {\n  TITLE,\n  DESCRIPTION,\n  OG_IMAGE,\n  URL,\n};\n\nexport default meta;\n","import React, { useState, useMemo, useEffect } from 'react';\nimport dayjs from 'dayjs';\nimport Helmet from 'react-helmet';\nimport nav from '@con/data/2021/nav';\nimport footer from '@con/data/2021/footer';\nimport prices from '@con/data/2021/prices';\nimport { ConfContext } from '@con/components/layout';\nimport SectionsContext from '@con/contexts/SectionsContext';\nimport { useLocation } from '@reach/router';\nimport meta from '@con/data/2021/meta';\nimport LayoutBase from '@con/components/layout/LayoutBase';\n\ninterface LayoutProps {\n  logoAlwaysVisible?: boolean;\n}\n\nconst Layout: React.ComponentType<LayoutProps> = ({ logoAlwaysVisible, children }) => {\n  const offersData = prices.map((price) => {\n    const sortedOffers = price.offers.sort((a, b) => {\n      if (dayjs(a.limitDate).isAfter(dayjs(b.limitDate))) return 1;\n      if (dayjs(b.limitDate).isAfter(dayjs(a.limitDate))) return -1;\n      return 0;\n    });\n    const activeOffer =\n      sortedOffers.find((offer) => dayjs(offer.limitDate).isAfter(dayjs())) || sortedOffers[sortedOffers.length - 1];\n    return {\n      '@type': 'Offer',\n      availability: 'https://schema.org/InStock',\n      price: `${activeOffer.price}.00`,\n      name: 1 === price.offers.length ? price.title : `${price.title} - ${activeOffer.title}`,\n      priceCurrency: 'EUR',\n      url: 'https://www.eventbrite.fr/e/api-platform-conference-2021-tickets-146559873527',\n      validFrom: '2021-03-19',\n    };\n  });\n\n  const eventData = {\n    '@context': 'https://schema.org',\n    '@type': 'Event',\n    name: 'API Platform Conference 2021',\n    description: 'The first international conference dedicated to API Platform and its ecosystem',\n    url: 'https://api-platform.com/con/2021/',\n    eventStatus: 'http://schema.org/EventScheduled',\n    eventAttendanceMode: 'https://schema.org/MixedEventAttendanceMode',\n    startDate: '2021-09-10',\n    endDate: '2021-09-10',\n    organizer: {\n      '@type': 'Organization',\n      name: 'Les-Tilleuls.coop',\n      url: 'https://les-tilleuls.coop/en',\n    },\n    location: [\n      {\n        '@type': 'Place',\n        name: 'Euratechnologies',\n        address: {\n          '@type': 'PostalAddress',\n          addressLocality: 'Lille',\n          addressRegion: 'Hauts de France',\n          postalCode: '59000',\n          streetAddress: 'Place de Saintignon, 165 avenue de Bretagne',\n        },\n      },\n      {\n        '@type': 'VirtualLocation',\n        url: 'https://api-platform.com/con/2021/',\n      },\n    ],\n    image: meta.OG_IMAGE,\n    offers: offersData,\n  };\n\n  // anchors handler\n  const { pathname } = useLocation();\n  const [sectionsVisibles, setSectionsVisibles] = useState<string[]>([]);\n  const activeLink = useMemo(() => {\n    const lastSectionVisible = sectionsVisibles?.[sectionsVisibles.length - 1];\n    if (!lastSectionVisible || 'home' === lastSectionVisible) return pathname;\n    return sectionsVisibles.length ? `${pathname}#${sectionsVisibles[sectionsVisibles.length - 1]}` : pathname;\n  }, [sectionsVisibles, pathname]);\n\n  useEffect(() => {\n    window.history.replaceState({}, '', activeLink);\n  }, [activeLink]);\n\n  return (\n    <ConfContext.Provider value={{ nav, activeLink, edition: '2021' }}>\n      <SectionsContext.Provider value={{ sectionsVisibles, setSectionsVisibles }}>\n        <Helmet>\n          <script type=\"application/ld+json\">{JSON.stringify(eventData)}</script>\n          <script defer src=\"https://unpkg.com/smoothscroll-polyfill/dist/smoothscroll.min.js\" />\n        </Helmet>\n        <LayoutBase edition=\"2021\" meta={meta} logoAlwaysVisible={logoAlwaysVisible} footer={footer}>\n          {children}\n        </LayoutBase>\n      </SectionsContext.Provider>\n    </ConfContext.Provider>\n  );\n};\n\nexport default Layout;\n"],"sourceRoot":""}